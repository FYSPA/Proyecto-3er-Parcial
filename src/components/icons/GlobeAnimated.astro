<body>
    <div id="google_translate_element"></div>
        <!-- BOTÓN con icono y DIV para el widget oculto de Google -->
        <button id="btn-globo">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="auto" viewBox="0 0 24 24">
            <g fill="none" stroke="#ffffff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
            <!-- Animar el círculo principal -->
            <circle cx="12" cy="12" r="9" stroke-dasharray="56.52" stroke-dashoffset="56.52">
                <animate attributeName="stroke-dashoffset" from="56.52" to="0" dur="0.5s" fill="freeze"/>
            </circle>
            <!-- Animar las líneas horizontales -->
            <path stroke-dasharray="22" stroke-dashoffset="22" d="M3.6 15h16.8">
                <animate attributeName="stroke-dashoffset" from="22" to="0" dur="0.3s" begin="0.5s" fill="freeze"/>
            </path>
            <path stroke-dasharray="22" stroke-dashoffset="22" d="M3.6 9h16.8">
                <animate attributeName="stroke-dashoffset" from="22" to="0" dur="0.3s" begin="0.8s" fill="freeze"/>
            </path>
            <!-- Animar los meridianos -->
            <path stroke-dasharray="18" stroke-dashoffset="18" d="M11.5 3a17 17 0 0 0 0 18">
                <animate attributeName="stroke-dashoffset" from="18" to="0" dur="0.4s" begin="1.1s" fill="freeze"/>
            </path>
            <path stroke-dasharray="18" stroke-dashoffset="18" d="M12.5 3a17 17 0 0 1 0 18">
                <animate attributeName="stroke-dashoffset" from="18" to="0" dur="0.4s" begin="1.3s" fill="freeze"/>
            </path>
            </g>
        </svg>

    </button>

    <!-- MENÚ de opciones de idioma -->
    <div id="menu-idiomas" class="menu-opciones">
        <ul>
            <li data-lang="es">Español</li>
            <li data-lang="en">Inglés</li>
            <li data-lang="fr">Francés</li>
            <li data-lang="it">Italiano</li>
            <li data-lang="de">Alemán</li>
            <li data-lang="pt">Portugués</li>
        </ul>
    </div>

    <!-- ESTILOS -->
    <style>
        button {
            background-color: transparent;
            border: none;
            position: relative;
            cursor: pointer;
        }
        .menu-opciones {
            display: none;
            position: absolute;
            top: 40px;
            right: 370px;
            background: #222;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            z-index: 99;
            min-width: 120px;
        }
        .menu-opciones ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }
        .menu-opciones li {
            padding: 10px 18px;
            cursor: pointer;
            color: #fff;
            transition: background 0.2s;
        }
        .menu-opciones li:hover {
            background: #444;
        }
        .goog-te-combo { display: none !important; }
    </style>


    <!-- Scripts de Google Translate -->
    <script type="text/javascript">
    // Abrir/cerrar menú al dar click en el globo
        const btnGlobo = document.getElementById('btn-globo');
        const menuIdiomas = document.getElementById('menu-idiomas');

        if (btnGlobo && menuIdiomas) {
        btnGlobo.addEventListener('click', function () {
            menuIdiomas.style.display = (menuIdiomas.style.display === 'block') ? 'none' : 'block';
        });

        // Cerrar menú al hacer click fuera de menú y botón
        document.addEventListener('click', function (e) {
            var target = e.target;
            if (
            !btnGlobo.contains(target) &&
            !menuIdiomas.contains(target)
            ) {
            menuIdiomas.style.display = 'none';
            }
        });
        }

        // Esperar a que Google Translate cree el combo oculto y poner listeners
        function listenersMenuIdioma() {
        var combo = document.querySelector('.goog-te-combo');
        if (!combo) {
            setTimeout(listenersMenuIdioma, 200);
            return;
        }
        document.querySelectorAll('#menu-idiomas li').forEach(function(li) {
            li.addEventListener('click', function() {
            var idioma = li.getAttribute('data-lang') || '';
            combo.value = idioma;
            combo.dispatchEvent(new Event('change'));
            menuIdiomas.style.display = 'none';
            });
        });
        }
        listenersMenuIdioma();

    </script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

</body>